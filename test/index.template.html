<!doctype html>
<html>
<head>
  <title>Mocha tests</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="test_lib/mocha.css">

  <!-- include mocha + chai + sinon -->
  <script src="test_lib/mocha.js" type="text/javascript"></script>
  <script src="test_lib/chai.js" type="text/javascript"></script>
  <script src="test_lib/sinon.js" type="text/javascript"></script>

  <!-- build:script js -->
  <!-- /build -->
  <!-- build:script tokbox -->
  <!-- /build -->
  <!-- build:script libs-->
  <!-- /build -->
  <!-- build:script helpers -->
  <!-- /build -->
  <!-- build:script screens -->
  <!-- /build -->

</head>
<body>
  <!-- required for browser reporter -->
  <div id="mocha"></div>

  <script type="text/javascript">
    mocha.setup('tdd');
    mocha.globals([ // acceptable globals
    ]);
  </script>

  <!-- include the sources we want to test -->

  <!-- run mocha -->
  <script type="text/javascript">
    mocha.run(); // run mocha
  </script>

  <!-- L10n support -->
  <link rel="resource" type="application/l10n" href="locales/locales.ini"/>

  <!-- Include JS to test -->
  <script src="js/config.js" type="text/javascript"></script>

  <!-- Include Utils for TESTS -->

  <!-- Hack to make bind work with phantomJS  -->
  <!-- https://github.com/ariya/phantomjs/issues/10522 -->
  <!-- https://github.com/c9/smith/blob/master/tests/public/test.js#L2-L7 -->
  <script type="text/javascript">
    Function.prototype.bind = Function.prototype.bind || function (thisp) {
      var fn = this;
      return function () {
        return fn.apply(thisp, arguments);
      };
    };
  </script>

  <!-- Include Utils for TESTS -->

  <!-- Include TESTS -->
  <script src="unit/test_config.js" type="text/javascript"></script>

</body>
</html>

